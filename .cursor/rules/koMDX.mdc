---
description: 
globs: contents/**/ko.mdx
alwaysApply: false
---
# Korean MDX File Sync Rule

## 목적
contents 폴더 내에서 ko.mdx 파일을 수정할 때, 같은 폴더 내의 en.mdx 파일을 자동으로 영어로 번역하여 동시에 업데이트합니다.

## 규칙

### 1. 파일 감지
- contents 폴더 내의 모든 하위 디렉토리에서 ko.mdx 파일이 수정되면 트리거됩니다.
- 같은 디렉토리에 en.mdx 파일이 존재하는지 확인합니다.

### 2. 번역 프로세스
- ko.mdx 파일의 전체 내용을 읽습니다.
- metadata 객체 내의 제목(title), 설명(description), 태그(tags) 필드를 영어로 번역합니다.
- 본문 내용을 영어로 번역하되, 다음 요소들은 그대로 유지합니다:
  - 수학 공식 ($...$ 또는 $$...$$ 형태)
  - 코드 블록 (```...``` 형태)
  - 이미지 경로 및 링크
  - publishedAt, lastModifiedAt, timeToRead, heroImage 등의 메타데이터 값

### 3. 번역 품질 기준
- 전문적이고 학술적인 톤을 유지합니다.
- 한국어의 뉘앙스를 영어로 자연스럽게 표현합니다.
- 기술 용어는 표준 영어 번역을 사용합니다.
- 문맥에 맞는 자연스러운 영어 표현을 사용합니다.

### 4. 파일 업데이트
- 번역된 내용으로 en.mdx 파일을 자동으로 업데이트합니다.
- 파일 구조와 포맷팅을 동일하게 유지합니다.
- lastModifiedAt 메타데이터를 현재 날짜로 업데이트합니다.

### 5. 로깅
- 번역 및 업데이트 과정을 로그로 기록합니다.
- 오류 발생 시 상세한 오류 메시지를 제공합니다.

## 예외 처리
- en.mdx 파일이 존재하지 않는 경우, 새로 생성합니다.
- 번역 중 오류가 발생하면 사용자에게 알리고 수동 확인을 요청합니다.
- 파일 권한 문제나 파일 락 상황에서는 재시도 로직을 적용합니다.

## 사용 예시
```
contents/
  ├── article1/
  │   ├── ko.mdx  (수정됨)
  │   └── en.mdx  (자동 업데이트)
  └── article2/
      ├── ko.mdx  (수정됨)
      └── en.mdx  (자동 업데이트)
```

이 규칙에 따라 ko.mdx 파일을 수정하면 자동으로 en.mdx 파일이 번역되어 동기화됩니다.
